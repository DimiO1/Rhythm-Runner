[gd_scene load_steps=19 format=3 uid="uid://c1hkycx7ryy0l"]

[ext_resource type="Script" path="res://Scenes/game.gd" id="1_lhvhd"]
[ext_resource type="PackedScene" uid="uid://b6xja88rrb6i8" path="res://Scenes/player.tscn" id="1_s8f1b"]
[ext_resource type="Script" path="res://Scenes/WaveManager.gd" id="2_g4bhq"]
[ext_resource type="Texture2D" uid="uid://dpypatt8wqf44" path="res://Sprites/UI/Bass-Sheet.png" id="2_mhqds"]
[ext_resource type="Script" path="res://Scenes/bass_hit_ui.gd" id="3_qdirg"]
[ext_resource type="Script" path="res://Scenes/Camera2D.gd" id="3_xxvlx"]
[ext_resource type="Texture2D" uid="uid://c50ftikshcj54" path="res://Sprites/UI/HeartJuice.png" id="4_ju45m"]
[ext_resource type="AudioStream" uid="uid://o47whv4cm6yu" path="res://Songs/banger.mp3" id="5_1kjxo"]

[sub_resource type="AtlasTexture" id="AtlasTexture_yv5um"]
atlas = ExtResource("2_mhqds")
region = Rect2(0, 0, 374, 596)

[sub_resource type="AtlasTexture" id="AtlasTexture_e3740"]
atlas = ExtResource("2_mhqds")
region = Rect2(374, 0, 374, 596)

[sub_resource type="SpriteFrames" id="SpriteFrames_ygs5e"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yv5um")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e3740")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_ojipv"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_ju45m")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_atn11"]
distance = 34.2014

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_4fyy3"]
distance = -130.615

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_047oh"]
distance = 19.8227

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_r1pfq"]
distance = 272.239

[sub_resource type="Gradient" id="Gradient_cfitd"]
offsets = PackedFloat32Array(0.980519, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ebwb5"]
gradient = SubResource("Gradient_cfitd")

[node name="Node2D" type="Node2D"]
script = ExtResource("1_lhvhd")
tempo = 128.0

[node name="BackgroundUI" type="Node2D" parent="."]

[node name="PlayerUI" type="Node2D" parent="."]

[node name="BassHitUI" type="AnimatedSprite2D" parent="PlayerUI"]
top_level = true
position = Vector2(-246, 652)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_ygs5e")
script = ExtResource("3_qdirg")

[node name="HeartUI" type="AnimatedSprite2D" parent="PlayerUI"]
top_level = true
position = Vector2(1518, 724)
scale = Vector2(0.3, 0.3)
sprite_frames = SubResource("SpriteFrames_ojipv")

[node name="WaveManager" type="Node2D" parent="."]
script = ExtResource("2_g4bhq")
spawnTime = 0.5

[node name="EnemySpawnTimer" type="Timer" parent="WaveManager"]
wait_time = 2.5
autostart = true

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(529, 36)
scale = Vector2(3.12, 3.18809)
stream = ExtResource("5_1kjxo")
autoplay = true

[node name="Player" parent="." instance=ExtResource("1_s8f1b")]
position = Vector2(619, 307)

[node name="GameCamera" type="Camera2D" parent="."]
position = Vector2(621, 310)
script = ExtResource("3_xxvlx")

[node name="BoundaryBody" type="StaticBody2D" parent="."]

[node name="BottomBoundary" type="CollisionShape2D" parent="BoundaryBody"]
position = Vector2(624, 999)
scale = Vector2(6.68, 5.76)
shape = SubResource("WorldBoundaryShape2D_atn11")

[node name="LeftBoundary" type="CollisionShape2D" parent="BoundaryBody"]
position = Vector2(245, 291)
rotation = 1.5708
scale = Vector2(4.48, 4.48)
shape = SubResource("WorldBoundaryShape2D_4fyy3")

[node name="RightBoundary" type="CollisionShape2D" parent="BoundaryBody"]
position = Vector2(1672, 291)
rotation = 1.5708
scale = Vector2(-4.48, -4.48)
shape = SubResource("WorldBoundaryShape2D_047oh")

[node name="TopBoundary" type="CollisionShape2D" parent="BoundaryBody"]
position = Vector2(592, -522)
rotation = -3.1376
scale = Vector2(4.65007, 1.27105)
shape = SubResource("WorldBoundaryShape2D_r1pfq")

[node name="BeatTimer" type="Timer" parent="."]
autostart = true

[node name="BeatTimerLabel" type="Label" parent="."]
visible = false
offset_left = -302.0
offset_top = -145.0
offset_right = -262.0
offset_bottom = -122.0
scale = Vector2(2.92, 1.92)

[node name="HitLabel" type="Label" parent="."]
visible = false
offset_left = 529.0
offset_top = 36.0
offset_right = 577.0
offset_bottom = 66.0
scale = Vector2(3.12, 3.18809)
text = "Hit!"

[node name="ResultLabel" type="Label" parent="."]
visible = false
offset_left = 501.0
offset_top = 164.0
offset_right = 595.0
offset_bottom = 187.0
scale = Vector2(3.68, 2.96)
text = "placeHolder"

[node name="CinematicTop" type="TextureRect" parent="."]
offset_left = -817.0
offset_top = -182.0
offset_right = -753.0
offset_bottom = -118.0
scale = Vector2(52.2707, 2.26996)
texture = SubResource("GradientTexture2D_ebwb5")

[node name="CinematicBottom" type="TextureRect" parent="."]
offset_left = -817.0
offset_top = 658.0
offset_right = -753.0
offset_bottom = 722.0
scale = Vector2(52.2707, 2.26996)
texture = SubResource("GradientTexture2D_ebwb5")

[connection signal="timeout" from="WaveManager/EnemySpawnTimer" to="WaveManager" method="_on_enemy_spawn_timer_timeout"]
[connection signal="timeout" from="BeatTimer" to="." method="_on_beat_t_imer_timeout"]
[connection signal="timeout" from="BeatTimer" to="PlayerUI/BassHitUI" method="_on_beat_timer_timeout"]
[connection signal="timeout" from="BeatTimer" to="GameCamera" method="_on_beat_timer_timeout"]
